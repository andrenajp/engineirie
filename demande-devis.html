<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demande de Devis - S.A.S Engine Irie</title>
  <meta name="description" content="Demandez un devis personnalisé pour vos projets informatiques : infrastructure réseau, développement web, formation, conseil, gestion de parc, support utilisateur.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: '#0a0a0a',
            foreground: '#fafafa',
            card: '#141414',
            'card-foreground': '#fafafa',
            primary: '#0ea5e9',
            'primary-foreground': '#0a0a0a',
            secondary: '#1e293b',
            'secondary-foreground': '#fafafa',
            muted: '#1e1e1e',
            'muted-foreground': '#a1a1aa',
            accent: '#0ea5e9',
            border: '#27272a',
            success: '#22c55e',
            warning: '#f59e0b',
            error: '#ef4444',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <style>
    html { scroll-behavior: smooth; }
    .gradient-text {
      background: linear-gradient(135deg, #0ea5e9 0%, #38bdf8 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .step-indicator {
      transition: all 0.3s ease;
    }
    .step-indicator.active {
      background-color: #0ea5e9;
      color: #0a0a0a;
      border-color: #0ea5e9;
    }
    .step-indicator.completed {
      background-color: #22c55e;
      color: #0a0a0a;
      border-color: #22c55e;
    }
    .step-line {
      transition: background-color 0.3s ease;
    }
    .step-line.completed {
      background-color: #22c55e;
    }
    .service-option {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .service-option:hover {
      border-color: #0ea5e9;
      transform: translateY(-2px);
    }
    .service-option.selected {
      border-color: #0ea5e9;
      background-color: rgba(14, 165, 233, 0.1);
    }
    .service-option.selected .check-icon {
      display: flex;
    }
    .budget-option, .deadline-option, .priority-option {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .budget-option:hover, .deadline-option:hover, .priority-option:hover {
      border-color: #0ea5e9;
    }
    .budget-option.selected, .deadline-option.selected, .priority-option.selected {
      border-color: #0ea5e9;
      background-color: rgba(14, 165, 233, 0.1);
    }
    .form-step {
      display: none;
      animation: fadeIn 0.4s ease-out;
    }
    .form-step.active {
      display: block;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .pulse-animation {
      animation: pulse 2s infinite;
    }
    .feature-tag {
      transition: all 0.2s ease;
    }
    .feature-tag:hover {
      background-color: rgba(14, 165, 233, 0.2);
    }
    .feature-tag.selected {
      background-color: #0ea5e9;
      color: #0a0a0a;
    }
  </style>
</head>
<body class="bg-background text-foreground font-sans antialiased min-h-screen">

  <!-- Navigation -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="index.html" class="flex items-center gap-3">
          <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <span class="text-xl font-bold">Engine Irie</span>
        </a>
        <a href="index.html" class="text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
          Retour au site
        </a>
      </div>
    </nav>
  </header>

  <main class="pt-24 pb-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      
      <!-- Header -->
      <div class="text-center mb-12">
        <p class="text-primary font-medium mb-4">Demande de devis</p>
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-4">
          Décrivez votre <span class="gradient-text">projet</span>
        </h1>
        <p class="text-muted-foreground max-w-2xl mx-auto">
          Répondez à quelques questions pour nous aider à comprendre vos besoins. 
          Nous vous enverrons un devis personnalisé sous 48h.
        </p>
      </div>

      <!-- Step Indicators -->
      <div class="mb-12">
        <div class="flex items-center justify-center">
          <!-- Step 1 -->
          <div class="flex flex-col items-center">
            <div id="step-1-indicator" class="step-indicator active w-12 h-12 rounded-full border-2 border-border flex items-center justify-center font-semibold">
              <svg class="w-5 h-5 hidden" id="step-1-check" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span id="step-1-number">1</span>
            </div>
            <span class="text-xs mt-2 text-muted-foreground">Service</span>
          </div>
          
          <div id="step-line-1" class="step-line w-16 sm:w-24 h-0.5 bg-border mx-2"></div>
          
          <!-- Step 2 -->
          <div class="flex flex-col items-center">
            <div id="step-2-indicator" class="step-indicator w-12 h-12 rounded-full border-2 border-border flex items-center justify-center font-semibold text-muted-foreground">
              <svg class="w-5 h-5 hidden" id="step-2-check" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span id="step-2-number">2</span>
            </div>
            <span class="text-xs mt-2 text-muted-foreground">Détails</span>
          </div>
          
          <div id="step-line-2" class="step-line w-16 sm:w-24 h-0.5 bg-border mx-2"></div>
          
          <!-- Step 3 -->
          <div class="flex flex-col items-center">
            <div id="step-3-indicator" class="step-indicator w-12 h-12 rounded-full border-2 border-border flex items-center justify-center font-semibold text-muted-foreground">
              <svg class="w-5 h-5 hidden" id="step-3-check" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span id="step-3-number">3</span>
            </div>
            <span class="text-xs mt-2 text-muted-foreground">Budget</span>
          </div>
          
          <div id="step-line-3" class="step-line w-16 sm:w-24 h-0.5 bg-border mx-2"></div>
          
          <!-- Step 4 -->
          <div class="flex flex-col items-center">
            <div id="step-4-indicator" class="step-indicator w-12 h-12 rounded-full border-2 border-border flex items-center justify-center font-semibold text-muted-foreground">
              <svg class="w-5 h-5 hidden" id="step-4-check" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <span id="step-4-number">4</span>
            </div>
            <span class="text-xs mt-2 text-muted-foreground">Contact</span>
          </div>
        </div>
      </div>

      <!-- Form Container -->
      <div class="bg-card border border-border rounded-2xl p-6 sm:p-8 lg:p-10">
        <form id="quote-form">
          
          <!-- Step 1: Service Selection -->
          <div id="step-1" class="form-step active">
            <h2 class="text-2xl font-bold mb-2">Quel service vous intéresse ?</h2>
            <p class="text-muted-foreground mb-8">Sélectionnez un ou plusieurs services pour votre projet.</p>
            
            <div class="grid sm:grid-cols-2 gap-4 mb-8">
              <!-- Infrastructure -->
              <div class="service-option bg-muted border border-border rounded-xl p-5 relative" data-service="infrastructure">
                <div class="check-icon hidden absolute top-3 right-3 w-6 h-6 bg-primary rounded-full items-center justify-center">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
                  </svg>
                </div>
                <h3 class="font-semibold mb-1">Infrastructure Réseau</h3>
                <p class="text-sm text-muted-foreground">Configuration, maintenance et optimisation de vos réseaux</p>
              </div>

              <!-- Développement -->
              <div class="service-option bg-muted border border-border rounded-xl p-5 relative" data-service="developpement">
                <div class="check-icon hidden absolute top-3 right-3 w-6 h-6 bg-primary rounded-full items-center justify-center">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                  </svg>
                </div>
                <h3 class="font-semibold mb-1">Développement Web & Apps</h3>
                <p class="text-sm text-muted-foreground">Sites web, applications métiers sur mesure</p>
              </div>

              <!-- Formation -->
              <div class="service-option bg-muted border border-border rounded-xl p-5 relative" data-service="formation">
                <div class="check-icon hidden absolute top-3 right-3 w-6 h-6 bg-primary rounded-full items-center justify-center">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                  </svg>
                </div>
                <h3 class="font-semibold mb-1">Formation</h3>
                <p class="text-sm text-muted-foreground">Programmes adaptés pour vos équipes</p>
              </div>

              <!-- Conseil -->
              <div class="service-option bg-muted border border-border rounded-xl p-5 relative" data-service="conseil">
                <div class="check-icon hidden absolute top-3 right-3 w-6 h-6 bg-primary rounded-full items-center justify-center">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                  </svg>
                </div>
                <h3 class="font-semibold mb-1">Conseil</h3>
                <p class="text-sm text-muted-foreground">Accompagnement stratégique et audit</p>
              </div>

              <!-- Gestion de Parc -->
              <div class="service-option bg-muted border border-border rounded-xl p-5 relative" data-service="parc">
                <div class="check-icon hidden absolute top-3 right-3 w-6 h-6 bg-primary rounded-full items-center justify-center">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"></path>
                  </svg>
                </div>
                <h3 class="font-semibold mb-1">Gestion de Parc</h3>
                <p class="text-sm text-muted-foreground">Inventaire, suivi et maintenance</p>
              </div>

              <!-- Support -->
              <div class="service-option bg-muted border border-border rounded-xl p-5 relative" data-service="support">
                <div class="check-icon hidden absolute top-3 right-3 w-6 h-6 bg-primary rounded-full items-center justify-center">
                  <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
                  </svg>
                </div>
                <h3 class="font-semibold mb-1">Support Utilisateur</h3>
                <p class="text-sm text-muted-foreground">Helpdesk, dépannage et interventions</p>
              </div>
            </div>

            <p id="step1-error" class="text-error text-sm mb-4 hidden">Veuillez sélectionner au moins un service.</p>

            <div class="flex justify-end">
              <button type="button" id="next-step-1" class="bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center gap-2">
                Continuer
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </button>
            </div>
          </div>

          <!-- Step 2: Project Details -->
          <div id="step-2" class="form-step">
            <h2 class="text-2xl font-bold mb-2">Décrivez votre projet</h2>
            <p class="text-muted-foreground mb-8">Plus vous êtes précis, plus notre devis sera adapté à vos besoins.</p>
            
            <div class="space-y-6">
              <!-- Project Name -->
              <div>
                <label for="project-name" class="block text-sm font-medium mb-2">
                  Nom du projet <span class="text-muted-foreground">(optionnel)</span>
                </label>
                <input type="text" id="project-name" name="project-name" class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all" placeholder="Ex: Refonte du site vitrine">
              </div>

              <!-- Company Size -->
              <div>
                <label class="block text-sm font-medium mb-3">Taille de votre entreprise</label>
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                  <div class="priority-option bg-muted border border-border rounded-lg p-3 text-center" data-size="1-10">
                    <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                      </svg>
                    </div>
                    <span class="text-sm">1-10</span>
                  </div>
                  <div class="priority-option bg-muted border border-border rounded-lg p-3 text-center" data-size="11-50">
                    <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                      </svg>
                    </div>
                    <span class="text-sm">11-50</span>
                  </div>
                  <div class="priority-option bg-muted border border-border rounded-lg p-3 text-center" data-size="51-200">
                    <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                      </svg>
                    </div>
                    <span class="text-sm">51-200</span>
                  </div>
                  <div class="priority-option bg-muted border border-border rounded-lg p-3 text-center" data-size="200+">
                    <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                      </svg>
                    </div>
                    <span class="text-sm">200+</span>
                  </div>
                </div>
              </div>

              <!-- Features needed (dynamic based on services selected) -->
              <div id="features-container">
                <label class="block text-sm font-medium mb-3">Fonctionnalités souhaitées <span class="text-muted-foreground">(sélectionnez tout ce qui s'applique)</span></label>
                <div id="features-list" class="flex flex-wrap gap-2">
                  <!-- Will be populated dynamically based on selected services -->
                </div>
              </div>

              <!-- Project Description -->
              <div>
                <label for="project-description" class="block text-sm font-medium mb-2">
                  Description du projet <span class="text-error">*</span>
                </label>
                <textarea id="project-description" name="project-description" rows="5" required class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none" placeholder="Décrivez votre projet en détail : contexte, objectifs, problèmes à résoudre, résultats attendus..."></textarea>
                <p class="text-xs text-muted-foreground mt-1">Minimum 50 caractères</p>
              </div>

              <!-- Existing Infrastructure -->
              <div>
                <label for="existing-infrastructure" class="block text-sm font-medium mb-2">
                  Infrastructure existante <span class="text-muted-foreground">(optionnel)</span>
                </label>
                <textarea id="existing-infrastructure" name="existing-infrastructure" rows="3" class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none" placeholder="Décrivez votre infrastructure actuelle : serveurs, logiciels, nombre de postes..."></textarea>
              </div>
            </div>

            <p id="step2-error" class="text-error text-sm mt-4 hidden">Veuillez remplir la description du projet (minimum 50 caractères).</p>

            <div class="flex justify-between mt-8">
              <button type="button" id="prev-step-2" class="border border-border px-6 py-3 rounded-lg font-medium hover:bg-muted transition-colors flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path>
                </svg>
                Retour
              </button>
              <button type="button" id="next-step-2" class="bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center gap-2">
                Continuer
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </button>
            </div>
          </div>

          <!-- Step 3: Budget & Timeline -->
          <div id="step-3" class="form-step">
            <h2 class="text-2xl font-bold mb-2">Budget et délais</h2>
            <p class="text-muted-foreground mb-8">Ces informations nous aident à vous proposer la solution la plus adaptée.</p>
            
            <div class="space-y-8">
              <!-- Budget Range -->
              <div>
                <label class="block text-sm font-medium mb-3">
                  <span class="flex items-center gap-2">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Budget estimé
                  </span>
                </label>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-3">
                  <div class="budget-option bg-muted border border-border rounded-xl p-4 text-center" data-budget="< 2 000 €">
                    <span class="text-lg font-semibold block mb-1">{'< 2 000 €'}</span>
                    <span class="text-xs text-muted-foreground">Petit projet</span>
                  </div>
                  <div class="budget-option bg-muted border border-border rounded-xl p-4 text-center" data-budget="2 000 € - 5 000 €">
                    <span class="text-lg font-semibold block mb-1">2 000 - 5 000 €</span>
                    <span class="text-xs text-muted-foreground">Projet moyen</span>
                  </div>
                  <div class="budget-option bg-muted border border-border rounded-xl p-4 text-center" data-budget="5 000 € - 15 000 €">
                    <span class="text-lg font-semibold block mb-1">5 000 - 15 000 €</span>
                    <span class="text-xs text-muted-foreground">Projet important</span>
                  </div>
                  <div class="budget-option bg-muted border border-border rounded-xl p-4 text-center" data-budget="> 15 000 €">
                    <span class="text-lg font-semibold block mb-1">{'>15 000 €'}</span>
                    <span class="text-xs text-muted-foreground">Grand projet</span>
                  </div>
                </div>
                <div class="mt-3">
                  <div class="budget-option bg-muted border border-border rounded-xl p-4 text-center" data-budget="À définir">
                    <span class="text-sm">Je ne sais pas encore / À définir ensemble</span>
                  </div>
                </div>
              </div>

              <!-- Timeline -->
              <div>
                <label class="block text-sm font-medium mb-3">
                  <span class="flex items-center gap-2">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    Délai souhaité
                  </span>
                </label>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-3">
                  <div class="deadline-option bg-muted border border-border rounded-xl p-4 text-center" data-deadline="urgent">
                    <div class="w-10 h-10 bg-error/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-error" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                      </svg>
                    </div>
                    <span class="text-sm font-semibold block">Urgent</span>
                    <span class="text-xs text-muted-foreground">{'< 2 semaines'}</span>
                  </div>
                  <div class="deadline-option bg-muted border border-border rounded-xl p-4 text-center" data-deadline="1-mois">
                    <div class="w-10 h-10 bg-warning/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                      </svg>
                    </div>
                    <span class="text-sm font-semibold block">1 mois</span>
                    <span class="text-xs text-muted-foreground">Délai court</span>
                  </div>
                  <div class="deadline-option bg-muted border border-border rounded-xl p-4 text-center" data-deadline="1-3-mois">
                    <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                      </svg>
                    </div>
                    <span class="text-sm font-semibold block">1 à 3 mois</span>
                    <span class="text-xs text-muted-foreground">Délai standard</span>
                  </div>
                  <div class="deadline-option bg-muted border border-border rounded-xl p-4 text-center" data-deadline="flexible">
                    <div class="w-10 h-10 bg-success/10 rounded-lg flex items-center justify-center mx-auto mb-2">
                      <svg class="w-5 h-5 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                      </svg>
                    </div>
                    <span class="text-sm font-semibold block">Flexible</span>
                    <span class="text-xs text-muted-foreground">{'>3 mois'}</span>
                  </div>
                </div>
              </div>

              <!-- Priority -->
              <div>
                <label class="block text-sm font-medium mb-3">
                  <span class="flex items-center gap-2">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                    </svg>
                    Quelle est votre priorité ?
                  </span>
                </label>
                <div class="grid sm:grid-cols-3 gap-3">
                  <div class="priority-option bg-muted border border-border rounded-xl p-4" data-priority="qualite">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                        </svg>
                      </div>
                      <div>
                        <span class="font-semibold block">Qualité</span>
                        <span class="text-xs text-muted-foreground">Le meilleur résultat</span>
                      </div>
                    </div>
                  </div>
                  <div class="priority-option bg-muted border border-border rounded-xl p-4" data-priority="rapidite">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                      </div>
                      <div>
                        <span class="font-semibold block">Rapidité</span>
                        <span class="text-xs text-muted-foreground">Le plus vite possible</span>
                      </div>
                    </div>
                  </div>
                  <div class="priority-option bg-muted border border-border rounded-xl p-4" data-priority="budget">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                        <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                      </div>
                      <div>
                        <span class="font-semibold block">Budget</span>
                        <span class="text-xs text-muted-foreground">Optimiser les coûts</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="flex justify-between mt-8">
              <button type="button" id="prev-step-3" class="border border-border px-6 py-3 rounded-lg font-medium hover:bg-muted transition-colors flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path>
                </svg>
                Retour
              </button>
              <button type="button" id="next-step-3" class="bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center gap-2">
                Continuer
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </button>
            </div>
          </div>

          <!-- Step 4: Contact Information -->
          <div id="step-4" class="form-step">
            <h2 class="text-2xl font-bold mb-2">Vos coordonnées</h2>
            <p class="text-muted-foreground mb-8">Pour vous envoyer votre devis personnalisé.</p>
            
            <div class="space-y-6">
              <div class="grid sm:grid-cols-2 gap-4">
                <div>
                  <label for="first-name" class="block text-sm font-medium mb-2">
                    Prénom <span class="text-error">*</span>
                  </label>
                  <input type="text" id="first-name" name="first-name" required class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all" placeholder="Jean">
                </div>
                <div>
                  <label for="last-name" class="block text-sm font-medium mb-2">
                    Nom <span class="text-error">*</span>
                  </label>
                  <input type="text" id="last-name" name="last-name" required class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all" placeholder="Dupont">
                </div>
              </div>

              <div>
                <label for="company" class="block text-sm font-medium mb-2">
                  Entreprise / Organisation <span class="text-muted-foreground">(optionnel)</span>
                </label>
                <input type="text" id="company" name="company" class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all" placeholder="Nom de votre entreprise">
              </div>

              <div>
                <label for="email" class="block text-sm font-medium mb-2">
                  Email <span class="text-error">*</span>
                </label>
                <input type="email" id="email" name="email" required class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all" placeholder="jean.dupont@exemple.com">
              </div>

              <div>
                <label for="phone" class="block text-sm font-medium mb-2">
                  Téléphone <span class="text-error">*</span>
                </label>
                <input type="tel" id="phone" name="phone" required class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all" placeholder="+594 694 00 00 00">
              </div>

              <div>
                <label for="contact-preference" class="block text-sm font-medium mb-2">
                  Préférence de contact
                </label>
                <select id="contact-preference" name="contact-preference" class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all">
                  <option value="email">Par email</option>
                  <option value="telephone">Par téléphone</option>
                  <option value="both">Email et téléphone</option>
                </select>
              </div>

              <div>
                <label for="additional-info" class="block text-sm font-medium mb-2">
                  Informations complémentaires <span class="text-muted-foreground">(optionnel)</span>
                </label>
                <textarea id="additional-info" name="additional-info" rows="3" class="w-full px-4 py-3 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none" placeholder="Disponibilités, contraintes particulières..."></textarea>
              </div>

              <!-- RGPD Consent -->
              <div class="bg-muted border border-border rounded-xl p-4">
                <div class="flex items-start gap-3">
                  <input type="checkbox" id="rgpd-consent" name="rgpd-consent" required class="mt-1 w-5 h-5 bg-muted border-border rounded focus:ring-primary focus:ring-2 accent-primary">
                  <label for="rgpd-consent" class="text-sm text-muted-foreground">
                    J'accepte que mes données soient traitées conformément à la <a href="politique-confidentialite.html" class="text-primary hover:underline">politique de confidentialité</a> de S.A.S Engine Irie. Ces données seront utilisées uniquement pour répondre à ma demande de devis et ne seront pas transmises à des tiers. <span class="text-error">*</span>
                  </label>
                </div>
              </div>

              <div class="flex items-start gap-3">
                <input type="checkbox" id="newsletter" name="newsletter" class="mt-1 w-5 h-5 bg-muted border-border rounded focus:ring-primary focus:ring-2 accent-primary">
                <label for="newsletter" class="text-sm text-muted-foreground">
                  Je souhaite recevoir les actualités et conseils IT de S.A.S Engine Irie (vous pouvez vous désabonner à tout moment).
                </label>
              </div>
            </div>

            <p id="step4-error" class="text-error text-sm mt-4 hidden">Veuillez remplir tous les champs obligatoires et accepter la politique de confidentialité.</p>

            <div class="flex justify-between mt-8">
              <button type="button" id="prev-step-4" class="border border-border px-6 py-3 rounded-lg font-medium hover:bg-muted transition-colors flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path>
                </svg>
                Retour
              </button>
              <button type="submit" id="submit-form" class="bg-primary text-primary-foreground px-8 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Envoyer ma demande
              </button>
            </div>
          </div>

          <!-- Success State -->
          <div id="form-success" class="hidden text-center py-12">
            <div class="w-20 h-20 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-6 pulse-animation">
              <svg class="w-10 h-10 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <h2 class="text-2xl font-bold mb-3">Demande envoyée avec succès !</h2>
            <p class="text-muted-foreground mb-6 max-w-md mx-auto">
              Nous avons bien reçu votre demande de devis. Notre équipe l'analysera et vous contactera sous 48h ouvrées.
            </p>
            <div class="bg-muted border border-border rounded-xl p-6 max-w-md mx-auto mb-8">
              <p class="text-sm text-muted-foreground mb-2">Numéro de référence :</p>
              <p id="reference-number" class="text-xl font-bold font-mono text-primary">EI-2026-XXXX</p>
            </div>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
              <a href="index.html" class="inline-flex items-center justify-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                Retour à l'accueil
              </a>
              <button type="button" id="new-quote" class="inline-flex items-center justify-center gap-2 border border-border px-6 py-3 rounded-lg font-medium hover:bg-muted transition-colors">
                Nouvelle demande
              </button>
            </div>
          </div>

        </form>
      </div>

      <!-- Summary Card (visible on step 2+) -->
      <div id="summary-card" class="hidden mt-6 bg-card border border-border rounded-xl p-6">
        <h3 class="font-semibold mb-4 flex items-center gap-2">
          <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
          </svg>
          Récapitulatif
        </h3>
        <div id="summary-content" class="space-y-3 text-sm">
          <!-- Populated dynamically -->
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="py-8 border-t border-border">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
        <p class="text-sm text-muted-foreground">
          © 2026 S.A.S Engine Irie. Tous droits réservés.
        </p>
        <div class="flex items-center gap-6">
          <a href="mentions-legales.html" class="text-sm text-muted-foreground hover:text-foreground transition-colors">Mentions légales</a>
          <a href="politique-confidentialite.html" class="text-sm text-muted-foreground hover:text-foreground transition-colors">Confidentialité</a>
          <a href="politique-cookies.html" class="text-sm text-muted-foreground hover:text-foreground transition-colors">Cookies</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Form State
    const formState = {
      services: [],
      projectName: '',
      companySize: '',
      features: [],
      projectDescription: '',
      existingInfrastructure: '',
      budget: '',
      deadline: '',
      priority: '',
      firstName: '',
      lastName: '',
      company: '',
      email: '',
      phone: '',
      contactPreference: 'email',
      additionalInfo: '',
      newsletter: false
    };

    // Features by service
    const featuresByService = {
      infrastructure: [
        'Configuration serveurs', 'Firewall / Sécurité', 'VPN', 'WiFi entreprise', 
        'Sauvegarde', 'Monitoring', 'Active Directory', 'Virtualisation'
      ],
      developpement: [
        'Site vitrine', 'E-commerce', 'Application métier', 'API / Backend', 
        'Application mobile', 'Intranet', 'CRM / ERP', 'Base de données'
      ],
      formation: [
        'Bureautique (Office)', 'Cybersécurité', 'Outils collaboratifs', 
        'Logiciels métiers', 'Administration système', 'Développement'
      ],
      conseil: [
        'Audit sécurité', 'Stratégie digitale', 'RGPD / Conformité', 
        'Architecture IT', 'Optimisation processus', 'Choix solutions'
      ],
      parc: [
        'Inventaire complet', 'Gestion licences', 'Maintenance préventive', 
        'Renouvellement matériel', 'Supervision', 'Rapports'
      ],
      support: [
        'Helpdesk', 'Support téléphonique', 'Intervention sur site', 
        'Télémaintenance', 'Astreinte 24/7', 'Formation utilisateurs'
      ]
    };

    // DOM Elements
    const steps = ['step-1', 'step-2', 'step-3', 'step-4'];
    let currentStep = 0;

    // Service selection
    document.querySelectorAll('.service-option').forEach(option => {
      option.addEventListener('click', () => {
        const service = option.dataset.service;
        option.classList.toggle('selected');
        
        if (option.classList.contains('selected')) {
          if (!formState.services.includes(service)) {
            formState.services.push(service);
          }
        } else {
          formState.services = formState.services.filter(s => s !== service);
        }
        
        document.getElementById('step1-error').classList.add('hidden');
        updateFeatures();
      });
    });

    // Update features based on selected services
    function updateFeatures() {
      const featuresContainer = document.getElementById('features-list');
      const allFeatures = new Set();
      
      formState.services.forEach(service => {
        if (featuresByService[service]) {
          featuresByService[service].forEach(f => allFeatures.add(f));
        }
      });

      if (allFeatures.size === 0) {
        featuresContainer.innerHTML = '<p class="text-sm text-muted-foreground">Sélectionnez d\'abord un service à l\'étape précédente.</p>';
        return;
      }

      featuresContainer.innerHTML = Array.from(allFeatures).map(feature => `
        <button type="button" class="feature-tag px-3 py-1.5 bg-muted border border-border rounded-full text-sm hover:border-primary transition-all" data-feature="${feature}">
          ${feature}
        </button>
      `).join('');

      // Add click handlers
      featuresContainer.querySelectorAll('.feature-tag').forEach(tag => {
        tag.addEventListener('click', () => {
          const feature = tag.dataset.feature;
          tag.classList.toggle('selected');
          
          if (tag.classList.contains('selected')) {
            if (!formState.features.includes(feature)) {
              formState.features.push(feature);
            }
          } else {
            formState.features = formState.features.filter(f => f !== feature);
          }
        });
      });
    }

    // Budget selection
    document.querySelectorAll('.budget-option').forEach(option => {
      option.addEventListener('click', () => {
        document.querySelectorAll('.budget-option').forEach(o => o.classList.remove('selected'));
        option.classList.add('selected');
        formState.budget = option.dataset.budget;
      });
    });

    // Deadline selection
    document.querySelectorAll('.deadline-option').forEach(option => {
      option.addEventListener('click', () => {
        document.querySelectorAll('.deadline-option').forEach(o => o.classList.remove('selected'));
        option.classList.add('selected');
        formState.deadline = option.dataset.deadline;
      });
    });

    // Priority selection
    document.querySelectorAll('.priority-option').forEach(option => {
      option.addEventListener('click', () => {
        if (option.dataset.priority) {
          document.querySelectorAll('.priority-option[data-priority]').forEach(o => o.classList.remove('selected'));
          option.classList.add('selected');
          formState.priority = option.dataset.priority;
        } else if (option.dataset.size) {
          document.querySelectorAll('.priority-option[data-size]').forEach(o => o.classList.remove('selected'));
          option.classList.add('selected');
          formState.companySize = option.dataset.size;
        }
      });
    });

    // Step navigation
    function updateStepIndicators() {
      for (let i = 0; i < 4; i++) {
        const indicator = document.getElementById(`step-${i + 1}-indicator`);
        const number = document.getElementById(`step-${i + 1}-number`);
        const check = document.getElementById(`step-${i + 1}-check`);
        const line = document.getElementById(`step-line-${i + 1}`);

        indicator.classList.remove('active', 'completed');
        number.classList.remove('hidden');
        check.classList.add('hidden');
        if (line) line.classList.remove('completed');

        if (i < currentStep) {
          indicator.classList.add('completed');
          number.classList.add('hidden');
          check.classList.remove('hidden');
          if (line) line.classList.add('completed');
        } else if (i === currentStep) {
          indicator.classList.add('active');
        }
      }
    }

    function showStep(stepIndex) {
      steps.forEach((step, index) => {
        const element = document.getElementById(step);
        if (index === stepIndex) {
          element.classList.add('active');
        } else {
          element.classList.remove('active');
        }
      });

      currentStep = stepIndex;
      updateStepIndicators();
      updateSummaryCard();
      
      // Scroll to top of form
      document.querySelector('.bg-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function updateSummaryCard() {
      const summaryCard = document.getElementById('summary-card');
      const summaryContent = document.getElementById('summary-content');

      if (currentStep === 0) {
        summaryCard.classList.add('hidden');
        return;
      }

      summaryCard.classList.remove('hidden');

      const serviceNames = {
        infrastructure: 'Infrastructure Réseau',
        developpement: 'Développement Web & Apps',
        formation: 'Formation',
        conseil: 'Conseil',
        parc: 'Gestion de Parc',
        support: 'Support Utilisateur'
      };

      let html = `
        <div class="flex items-center gap-2">
          <span class="text-muted-foreground">Services :</span>
          <span class="text-foreground">${formState.services.map(s => serviceNames[s]).join(', ') || '-'}</span>
        </div>
      `;

      if (currentStep >= 2) {
        html += `
          <div class="flex items-center gap-2">
            <span class="text-muted-foreground">Projet :</span>
            <span class="text-foreground">${formState.projectName || 'Non spécifié'}</span>
          </div>
        `;
        if (formState.features.length > 0) {
          html += `
            <div class="flex items-start gap-2">
              <span class="text-muted-foreground flex-shrink-0">Fonctionnalités :</span>
              <span class="text-foreground">${formState.features.slice(0, 4).join(', ')}${formState.features.length > 4 ? '...' : ''}</span>
            </div>
          `;
        }
      }

      if (currentStep >= 3) {
        html += `
          <div class="flex items-center gap-2">
            <span class="text-muted-foreground">Budget :</span>
            <span class="text-foreground">${formState.budget || 'Non spécifié'}</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-muted-foreground">Délai :</span>
            <span class="text-foreground">${formState.deadline || 'Non spécifié'}</span>
          </div>
        `;
      }

      summaryContent.innerHTML = html;
    }

    // Validation
    function validateStep1() {
      if (formState.services.length === 0) {
        document.getElementById('step1-error').classList.remove('hidden');
        return false;
      }
      return true;
    }

    function validateStep2() {
      const description = document.getElementById('project-description').value;
      formState.projectName = document.getElementById('project-name').value;
      formState.projectDescription = description;
      formState.existingInfrastructure = document.getElementById('existing-infrastructure').value;

      if (description.length < 50) {
        document.getElementById('step2-error').classList.remove('hidden');
        return false;
      }
      document.getElementById('step2-error').classList.add('hidden');
      return true;
    }

    function validateStep4() {
      const firstName = document.getElementById('first-name').value;
      const lastName = document.getElementById('last-name').value;
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      const rgpdConsent = document.getElementById('rgpd-consent').checked;

      formState.firstName = firstName;
      formState.lastName = lastName;
      formState.company = document.getElementById('company').value;
      formState.email = email;
      formState.phone = phone;
      formState.contactPreference = document.getElementById('contact-preference').value;
      formState.additionalInfo = document.getElementById('additional-info').value;
      formState.newsletter = document.getElementById('newsletter').checked;

      if (!firstName || !lastName || !email || !phone || !rgpdConsent) {
        document.getElementById('step4-error').classList.remove('hidden');
        return false;
      }

      // Basic email validation
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        document.getElementById('step4-error').classList.remove('hidden');
        document.getElementById('step4-error').textContent = 'Veuillez entrer une adresse email valide.';
        return false;
      }

      document.getElementById('step4-error').classList.add('hidden');
      return true;
    }

    // Navigation buttons
    document.getElementById('next-step-1').addEventListener('click', () => {
      if (validateStep1()) {
        showStep(1);
        updateFeatures();
      }
    });

    document.getElementById('prev-step-2').addEventListener('click', () => showStep(0));
    document.getElementById('next-step-2').addEventListener('click', () => {
      if (validateStep2()) {
        showStep(2);
      }
    });

    document.getElementById('prev-step-3').addEventListener('click', () => showStep(1));
    document.getElementById('next-step-3').addEventListener('click', () => showStep(3));

    document.getElementById('prev-step-4').addEventListener('click', () => showStep(2));

    // Form submission
    document.getElementById('quote-form').addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (!validateStep4()) return;

      // Generate reference number
      const refNumber = 'EI-2026-' + Math.random().toString(36).substring(2, 6).toUpperCase();
      document.getElementById('reference-number').textContent = refNumber;

      // Hide form, show success
      steps.forEach(step => document.getElementById(step).classList.remove('active'));
      document.getElementById('form-success').classList.remove('hidden');
      document.getElementById('summary-card').classList.add('hidden');

      // Log form data (in production, send to server)
      console.log('Quote request submitted:', { ...formState, referenceNumber: refNumber });

      // Scroll to success message
      document.getElementById('form-success').scrollIntoView({ behavior: 'smooth', block: 'center' });
    });

    // New quote button
    document.getElementById('new-quote').addEventListener('click', () => {
      // Reset form state
      formState.services = [];
      formState.features = [];
      formState.projectName = '';
      formState.companySize = '';
      formState.projectDescription = '';
      formState.existingInfrastructure = '';
      formState.budget = '';
      formState.deadline = '';
      formState.priority = '';
      formState.firstName = '';
      formState.lastName = '';
      formState.company = '';
      formState.email = '';
      formState.phone = '';
      formState.additionalInfo = '';
      formState.newsletter = false;

      // Reset UI
      document.querySelectorAll('.service-option, .budget-option, .deadline-option, .priority-option').forEach(el => {
        el.classList.remove('selected');
      });
      document.getElementById('quote-form').reset();
      document.getElementById('form-success').classList.add('hidden');
      
      showStep(0);
    });

    // Initialize
    updateStepIndicators();
  </script>

</body>
</html>
